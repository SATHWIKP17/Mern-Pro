{"ast":null,"code":"import React,{useState,useEffect}from'react';import{io}from'socket.io-client';import'./App.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const socket=io('http://localhost:3001');function Sh(){const[mess,setMess]=useState([]);const[input,setInput]=useState(\"\");const[r_mess,setR_mess]=useState([]);const[currentTime,setCurrentTime]=useState(new Date().now());function on(e){const nn={text:input,time:currentTime};setMess(prev=>[...prev,nn]);setInput(\"\");socket.emit(\"me\",nn);}function oon(e){setInput(e.target.value);}useEffect(()=>{socket.on(\"rec_msg\",msg=>{setR_mess(prev=>[...prev,{text:msg,time:new Date().toLocaleTimeString()}]);});return()=>socket.off(\"rec_msg\");},[]);// useEffect(() => {\n//     socket.on(\"mm\", (msg) => {\n//         setMess((prev) => [...prev, msg]);   \n//     });\n//     // Cleanup to prevent multiple bindings\n//     return () => socket.off(\"mm\");\n// }, []);\n// const msgg = [\n//     {\n//         m: \"Hello This is Sathwik,Hope You Remembered Me\"\n//     },\n//     {\n//         m: \"Hello This is Vignesh,Hope You Remembered Me\"\n//     },\n//     {\n//         m: \"Hello This is Lokesh,Hope You Remembered Me\"\n//     }\n// ]\nconst sorted=[...mess,...r_mess].sort((a,b)=>a.time-b.time);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"dd\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"hh\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"hd\",children:\"Let's Chat\"})}),/*#__PURE__*/_jsx(\"br\",{}),sorted.map((i,index)=>/*#__PURE__*/_jsx(\"div\",{className:mess.includes(i)?\"hh2\":\"hhhh\",children:/*#__PURE__*/_jsxs(\"div\",{className:mess.includes(i)?\"hh3\":\"hhhh1\",children:[i.text,/*#__PURE__*/_jsx(\"footer\",{className:\"fff\",children:/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"sub\",{children:i.time})})})]})})),/*#__PURE__*/_jsxs(\"div\",{className:\"iii\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"iiiii\",type:\"text\",name:\"input\",value:input,onChange:oon}),/*#__PURE__*/_jsx(\"button\",{className:\"bb\",type:\"submit\",onClick:on,children:\"\\uD83D\\uDE80\"})]})]})});}export default Sh;","map":{"version":3,"names":["React","useState","useEffect","io","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","socket","Sh","mess","setMess","input","setInput","r_mess","setR_mess","currentTime","setCurrentTime","Date","now","on","e","nn","text","time","prev","emit","oon","target","value","msg","toLocaleTimeString","off","sorted","sort","a","b","children","className","map","i","index","includes","type","name","onChange","onClick"],"sources":["C:/Users/sathw/new22.app/client/src/show.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { io } from 'socket.io-client';\r\nimport './App.css';\r\nconst socket = io('http://localhost:3001');\r\nfunction Sh() {\r\n    const [mess, setMess] = useState([]);\r\n    const [input, setInput] = useState(\"\");\r\n    const[r_mess,setR_mess]=useState([]);  \r\n    const [currentTime, setCurrentTime] = useState(new Date().now());\r\n    function on(e){\r\n        const nn={text:input,time:currentTime}\r\n        setMess((prev)=>[...prev,nn]);\r\n        setInput(\"\");\r\n        socket.emit(\"me\",(nn));\r\n    }\r\n    function oon(e){\r\n        setInput(e.target.value);\r\n    }\r\n    useEffect(() => {\r\n        socket.on(\"rec_msg\", (msg) => {\r\n            setR_mess((prev) => [...prev, { text: msg, time: new Date().toLocaleTimeString() }]);\r\n        });\r\n    \r\n        return () => socket.off(\"rec_msg\");\r\n    }, []); \r\n    // useEffect(() => {\r\n    //     socket.on(\"mm\", (msg) => {\r\n    //         setMess((prev) => [...prev, msg]);   \r\n    //     });\r\n\r\n    //     // Cleanup to prevent multiple bindings\r\n    //     return () => socket.off(\"mm\");\r\n    // }, []);\r\n    // const msgg = [\r\n    //     {\r\n    //         m: \"Hello This is Sathwik,Hope You Remembered Me\"\r\n    //     },\r\n    //     {\r\n    //         m: \"Hello This is Vignesh,Hope You Remembered Me\"\r\n    //     },\r\n    //     {\r\n    //         m: \"Hello This is Lokesh,Hope You Remembered Me\"\r\n    //     }\r\n    // ]\r\n    const sorted=[...mess,...r_mess].sort((a,b)=>a.time-b.time);\r\n    return (\r\n        <>\r\n            <div className=\"dd\">\r\n                <header className=\"hh\"><h1 className=\"hd\">Let's Chat</h1></header>\r\n                <br/>\r\n                {sorted.map((i,index)=>(\r\n                    <div className={mess.includes(i)?\"hh2\":\"hhhh\"}><div className={mess.includes(i)?\"hh3\":\"hhhh1\"}>{i.text}<footer className=\"fff\"><small><sub>{i.time}</sub></small></footer></div></div>))}\r\n                <div className=\"iii\">\r\n                    <input className=\"iiiii\" type=\"text\" name=\"input\" value={input} onChange={oon}/>\r\n                    <button className=\"bb\" type=\"submit\" onClick={on}>ðŸš€</button>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Sh;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,EAAE,KAAQ,kBAAkB,CACrC,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBACnB,KAAM,CAAAC,MAAM,CAAGP,EAAE,CAAC,uBAAuB,CAAC,CAC1C,QAAS,CAAAQ,EAAEA,CAAA,CAAG,CACV,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAK,CAACe,MAAM,CAACC,SAAS,CAAC,CAAChB,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACiB,WAAW,CAAEC,cAAc,CAAC,CAAGlB,QAAQ,CAAC,GAAI,CAAAmB,IAAI,CAAC,CAAC,CAACC,GAAG,CAAC,CAAC,CAAC,CAChE,QAAS,CAAAC,EAAEA,CAACC,CAAC,CAAC,CACV,KAAM,CAAAC,EAAE,CAAC,CAACC,IAAI,CAACX,KAAK,CAACY,IAAI,CAACR,WAAW,CAAC,CACtCL,OAAO,CAAEc,IAAI,EAAG,CAAC,GAAGA,IAAI,CAACH,EAAE,CAAC,CAAC,CAC7BT,QAAQ,CAAC,EAAE,CAAC,CACZL,MAAM,CAACkB,IAAI,CAAC,IAAI,CAAEJ,EAAG,CAAC,CAC1B,CACA,QAAS,CAAAK,GAAGA,CAACN,CAAC,CAAC,CACXR,QAAQ,CAACQ,CAAC,CAACO,MAAM,CAACC,KAAK,CAAC,CAC5B,CACA7B,SAAS,CAAC,IAAM,CACZQ,MAAM,CAACY,EAAE,CAAC,SAAS,CAAGU,GAAG,EAAK,CAC1Bf,SAAS,CAAEU,IAAI,EAAK,CAAC,GAAGA,IAAI,CAAE,CAAEF,IAAI,CAAEO,GAAG,CAAEN,IAAI,CAAE,GAAI,CAAAN,IAAI,CAAC,CAAC,CAACa,kBAAkB,CAAC,CAAE,CAAC,CAAC,CAAC,CACxF,CAAC,CAAC,CAEF,MAAO,IAAMvB,MAAM,CAACwB,GAAG,CAAC,SAAS,CAAC,CACtC,CAAC,CAAE,EAAE,CAAC,CACN;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAM,CAAAC,MAAM,CAAC,CAAC,GAAGvB,IAAI,CAAC,GAAGI,MAAM,CAAC,CAACoB,IAAI,CAAC,CAACC,CAAC,CAACC,CAAC,GAAGD,CAAC,CAACX,IAAI,CAACY,CAAC,CAACZ,IAAI,CAAC,CAC3D,mBACIrB,IAAA,CAAAI,SAAA,EAAA8B,QAAA,cACIhC,KAAA,QAAKiC,SAAS,CAAC,IAAI,CAAAD,QAAA,eACflC,IAAA,WAAQmC,SAAS,CAAC,IAAI,CAAAD,QAAA,cAAClC,IAAA,OAAImC,SAAS,CAAC,IAAI,CAAAD,QAAA,CAAC,YAAU,CAAI,CAAC,CAAQ,CAAC,cAClElC,IAAA,QAAI,CAAC,CACJ8B,MAAM,CAACM,GAAG,CAAC,CAACC,CAAC,CAACC,KAAK,gBAChBtC,IAAA,QAAKmC,SAAS,CAAE5B,IAAI,CAACgC,QAAQ,CAACF,CAAC,CAAC,CAAC,KAAK,CAAC,MAAO,CAAAH,QAAA,cAAChC,KAAA,QAAKiC,SAAS,CAAE5B,IAAI,CAACgC,QAAQ,CAACF,CAAC,CAAC,CAAC,KAAK,CAAC,OAAQ,CAAAH,QAAA,EAAEG,CAAC,CAACjB,IAAI,cAACpB,IAAA,WAAQmC,SAAS,CAAC,KAAK,CAAAD,QAAA,cAAClC,IAAA,UAAAkC,QAAA,cAAOlC,IAAA,QAAAkC,QAAA,CAAMG,CAAC,CAAChB,IAAI,CAAM,CAAC,CAAO,CAAC,CAAQ,CAAC,EAAK,CAAC,CAAK,CAAE,CAAC,cAC5LnB,KAAA,QAAKiC,SAAS,CAAC,KAAK,CAAAD,QAAA,eAChBlC,IAAA,UAAOmC,SAAS,CAAC,OAAO,CAACK,IAAI,CAAC,MAAM,CAACC,IAAI,CAAC,OAAO,CAACf,KAAK,CAAEjB,KAAM,CAACiC,QAAQ,CAAElB,GAAI,CAAC,CAAC,cAChFxB,IAAA,WAAQmC,SAAS,CAAC,IAAI,CAACK,IAAI,CAAC,QAAQ,CAACG,OAAO,CAAE1B,EAAG,CAAAiB,QAAA,CAAC,cAAE,CAAQ,CAAC,EAC5D,CAAC,EACL,CAAC,CACR,CAAC,CAEX,CACA,cAAe,CAAA5B,EAAE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}