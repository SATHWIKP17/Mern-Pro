{"ast":null,"code":"import React,{useState,useEffect}from'react';import{io}from'socket.io-client';import'./App.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const socket=io('http://localhost:3001');function Sh(){const[mess,setMess]=useState([]);const[input,setInput]=useState(\"\");const[r_mess,setR_mess]=useState([]);const[currentTime,setCurrentTime]=useState(new Date().toLocaleTimeString());function on(e){setMess(prev=>[...prev,{text:input,time:new Date().toLocaleTimeString()}]);setInput(\"\");socket.broadcast.emit((\"me\",mess));setR_mess(prev=>[...prev,r_mess]);}function oon(e){setInput(e.target.value);}useEffect(()=>{socket.on(\"rec_msg\",msg=>{setMess(prev=>[...prev,{text:msg,time:new Date().toLocaleTimeString()}]);});return()=>socket.off(\"receive\");},[]);// useEffect(() => {\n//     socket.on(\"mm\", (msg) => {\n//         setMess((prev) => [...prev, msg]);\n//     });\n//     // Cleanup to prevent multiple bindings\n//     return () => socket.off(\"mm\");\n// }, []);\n// const msgg = [\n//     {\n//         m: \"Hello This is Sathwik,Hope You Remembered Me\"\n//     },\n//     {\n//         m: \"Hello This is Vignesh,Hope You Remembered Me\"\n//     },\n//     {\n//         m: \"Hello This is Lokesh,Hope You Remembered Me\"\n//     }\n// ]\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"dd\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"hh\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"hd\",children:\"Let's Chat\"})}),/*#__PURE__*/_jsx(\"br\",{}),mess.map((i,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"hh2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"hh3\",children:[i.text,/*#__PURE__*/_jsx(\"footer\",{className:\"fff\",children:/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"sub\",{children:i.time})})})]})})),r_mess.map((n,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"hh2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"hh3\",children:[n.text,/*#__PURE__*/_jsx(\"footer\",{className:\"fff\",children:/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"sub\",{children:n.time})})})]})})),/*#__PURE__*/_jsxs(\"div\",{className:\"iii\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"iiiii\",type:\"text\",name:\"input\",value:input,onChange:oon}),/*#__PURE__*/_jsx(\"button\",{className:\"bb\",type:\"submit\",onClick:on,children:\"\\uD83D\\uDE80\"})]})]})});}export default Sh;","map":{"version":3,"names":["React","useState","useEffect","io","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","socket","Sh","mess","setMess","input","setInput","r_mess","setR_mess","currentTime","setCurrentTime","Date","toLocaleTimeString","on","e","prev","text","time","broadcast","emit","oon","target","value","msg","off","children","className","map","i","index","n","type","name","onChange","onClick"],"sources":["C:/Users/sathw/new22.app/frontend/src/show.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { io } from 'socket.io-client';\r\nimport './App.css';\r\nconst socket = io('http://localhost:3001');\r\nfunction Sh() {\r\n    const [mess, setMess] = useState([]);\r\n    const [input, setInput] = useState(\"\");\r\n    const[r_mess,setR_mess]=useState([]);  \r\n    const [currentTime, setCurrentTime] = useState(new Date().toLocaleTimeString());\r\n    function on(e){\r\n        setMess((prev)=>[...prev,{text:input,time:new Date().toLocaleTimeString()}]);\r\n        setInput(\"\");\r\n        socket.broadcast.emit((\"me\",(mess)));\r\n        setR_mess((prev)=>[...prev,r_mess]);\r\n    }\r\n    function oon(e){\r\n        setInput(e.target.value);\r\n    }\r\n    useEffect(() => {\r\n        socket.on(\"rec_msg\", (msg) => {\r\n            setMess((prev) => [...prev, { text: msg, time: new Date().toLocaleTimeString() }]);\r\n        });\r\n    \r\n        return () => socket.off(\"receive\");\r\n    }, []); \r\n    // useEffect(() => {\r\n    //     socket.on(\"mm\", (msg) => {\r\n    //         setMess((prev) => [...prev, msg]);\r\n    //     });\r\n\r\n    //     // Cleanup to prevent multiple bindings\r\n    //     return () => socket.off(\"mm\");\r\n    // }, []);\r\n    // const msgg = [\r\n    //     {\r\n    //         m: \"Hello This is Sathwik,Hope You Remembered Me\"\r\n    //     },\r\n    //     {\r\n    //         m: \"Hello This is Vignesh,Hope You Remembered Me\"\r\n    //     },\r\n    //     {\r\n    //         m: \"Hello This is Lokesh,Hope You Remembered Me\"\r\n    //     }\r\n    // ]\r\n    return (\r\n        <>\r\n            <div className=\"dd\">\r\n                <header className=\"hh\"><h1 className=\"hd\">Let's Chat</h1></header>\r\n                <br/>\r\n                {mess.map((i,index)=>(\r\n                    <div className=\"hh2\"><div className=\"hh3\">{i.text}<footer className=\"fff\"><small><sub>{i.time}</sub></small></footer></div></div>))}\r\n                {r_mess.map((n,index)=>(\r\n                    <div className=\"hh2\"><div className=\"hh3\">{n.text}<footer className=\"fff\"><small><sub>{n.time}</sub></small></footer></div></div>\r\n                ))}\r\n                <div className=\"iii\">\r\n                    <input className=\"iiiii\" type=\"text\" name=\"input\" value={input} onChange={oon}/>\r\n                    <button className=\"bb\" type=\"submit\" onClick={on}>ðŸš€</button>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default Sh;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}